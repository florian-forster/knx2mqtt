plugins {
	id 'java'
}

sourceCompatibility = 1.15

repositories {
	mavenCentral()
	maven { 
		url 'https://repo.eclipse.org/content/repositories/paho-releases/'
	} 
}

dependencies {
	implementation 'com.eclipsesource.minimal-json:minimal-json:0.9.4'
	implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.0.2'
	implementation 'com.github.calimero:calimero-core:2.2.1'
}


jar {
	from {
    	configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    	configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
	{ exclude "META-INF/**" }
	
	archiveName 'knx2mqtt.jar'
	
	manifest {
        attributes 	'Main-Class': 'com.tellerulam.knx2mqtt.Main',
        			'Implementation-Title': 'knx2mqtt KNX to MQTT bridge'
    }
}

